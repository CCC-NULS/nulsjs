<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Core package | NULS SDK</title>
    <meta name="description" content="Interact with the NULS Blockchain in JavaScript">
    
    
    <link rel="preload" href="/assets/css/0.styles.a9ce6b5a.css" as="style"><link rel="preload" href="/assets/js/app.d33a93c4.js" as="script"><link rel="preload" href="/assets/js/2.ad99787b.js" as="script"><link rel="preload" href="/assets/js/8.b511ce82.js" as="script"><link rel="prefetch" href="/assets/js/10.45eb6cfb.js"><link rel="prefetch" href="/assets/js/11.e7f7b31b.js"><link rel="prefetch" href="/assets/js/12.c4b65715.js"><link rel="prefetch" href="/assets/js/13.2ab56cc1.js"><link rel="prefetch" href="/assets/js/14.610fa14c.js"><link rel="prefetch" href="/assets/js/15.bce5e87a.js"><link rel="prefetch" href="/assets/js/3.0e414cba.js"><link rel="prefetch" href="/assets/js/4.f7de82a7.js"><link rel="prefetch" href="/assets/js/5.4e31a545.js"><link rel="prefetch" href="/assets/js/6.d9676ec6.js"><link rel="prefetch" href="/assets/js/7.d0de8275.js"><link rel="prefetch" href="/assets/js/9.f34e919f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a9ce6b5a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="NULS SDK" class="logo"> <span class="site-name can-hide">NULS SDK</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">Guide</a></div><div class="nav-item"><a href="https://CCC-NULS.github.io/nuls-js" target="_blank" rel="noopener noreferrer" class="nav-link external">
  v1.x
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/CCC-NULS/nulsjs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">Guide</a></div><div class="nav-item"><a href="https://CCC-NULS.github.io/nuls-js" target="_blank" rel="noopener noreferrer" class="nav-link external">
  v1.x
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/CCC-NULS/nulsjs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/guide/" class="sidebar-link">Getting Started</a></li><li><a href="/guide/core/" class="active sidebar-link">Core</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/core/#address-class" class="sidebar-link">Address class</a></li><li class="sidebar-sub-header"><a href="/guide/core/#block-api" class="sidebar-link">Block API</a></li></ul></li><li><a href="/guide/account/" class="sidebar-link">Account</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Transaction</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="core-package"><a href="#core-package" class="header-anchor">#</a> Core package</h1> <p>This package is the cornerstone of the NULS SDK, it is needed by the rest of packages to work properly. Besides this, you can use some of the utils provided for your own use case.</p> <h2 id="address-class"><a href="#address-class" class="header-anchor">#</a> Address class</h2> <p>This class provides som utilities to operate with NULS addresses.
It expose this public interface:</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Address</span> <span class="token punctuation">{</span>
  chainId<span class="token punctuation">:</span> <span class="token builtin">number</span>
  <span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token builtin">number</span>
  publicKeyHash<span class="token punctuation">:</span> Buffer
  prefix<span class="token punctuation">:</span> <span class="token builtin">string</span>
  address<span class="token punctuation">:</span> <span class="token builtin">string</span>

  <span class="token keyword">static</span> <span class="token function">fromBytes</span><span class="token punctuation">(</span>bytes<span class="token punctuation">:</span> Buffer<span class="token punctuation">)</span><span class="token punctuation">:</span> Address
  <span class="token keyword">static</span> <span class="token keyword">from</span><span class="token punctuation">(</span>chainId<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> publicKey<span class="token punctuation">:</span> Buffer<span class="token punctuation">,</span> prefix<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Address
  <span class="token keyword">static</span> <span class="token function">fromString</span><span class="token punctuation">(</span>address<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Address
  <span class="token keyword">static</span> <span class="token function">fromStringV1</span><span class="token punctuation">(</span>addressV1<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Address
  <span class="token keyword">static</span> <span class="token function">verify</span><span class="token punctuation">(</span>address<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">boolean</span>
  <span class="token function">toBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Buffer
  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="serialize-parse-an-address"><a href="#serialize-parse-an-address" class="header-anchor">#</a> Serialize / parse an address</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Address<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@nuls.io/core'</span>

<span class="token keyword">const</span> bytes <span class="token operator">=</span> Address<span class="token punctuation">.</span><span class="token function">fromString</span><span class="token punctuation">(</span><span class="token string">'NULSd6HgWaHQwRadfbxn2CFsGppG6ysyqML6m'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span>
<span class="token comment">// &lt;Buffer 01 00 01 2c 00 e3 2b 8c 04 c2 4f 74 3e 2a a0 35 e6 e5 c0 71 e5 be 67&gt;</span>

<span class="token keyword">const</span> address <span class="token operator">=</span> Address<span class="token punctuation">.</span><span class="token function">fromBytes</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span>
<span class="token comment">// NULSd6HgWaHQwRadfbxn2CFsGppG6ysyqML6m</span>
</code></pre></div><h4 id="get-address-meta-information"><a href="#get-address-meta-information" class="header-anchor">#</a> Get address meta information</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Address<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@nuls.io/core'</span>

<span class="token keyword">const</span> address <span class="token operator">=</span> Address<span class="token punctuation">.</span><span class="token function">fromString</span><span class="token punctuation">(</span><span class="token string">'tNULSeBaMsvXgCBnaJ4u7rbQEKiWd23VWCudYm'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span>
<span class="token comment">// {</span>
<span class="token comment">//   chainId: 2,</span>
<span class="token comment">//   type: 1,</span>
<span class="token comment">//   publicKeyHash: &lt;Buffer d2 40 9a 8e d9 c2 a2 60 f0 82 73 33 b7 b3 09 86 77 eb 37 7c&gt;,</span>
<span class="token comment">//   prefix: 'tNULS',</span>
<span class="token comment">//   address: 'tNULSeBaMsvXgCBnaJ4u7rbQEKiWd23VWCudYm'</span>
<span class="token comment">// }</span>
</code></pre></div><h4 id="verify-if-an-address-is-valid"><a href="#verify-if-an-address-is-valid" class="header-anchor">#</a> Verify if an address is valid</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Address<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@nuls.io/core'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Address<span class="token punctuation">.</span><span class="token function">verify</span><span class="token punctuation">(</span><span class="token string">'NULSd6HgdemcQDAaiEJWq9ESMhtUHXRsNJ4KM'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// true</span>
</code></pre></div><h4 id="convert-an-v1-address-into-v2"><a href="#convert-an-v1-address-into-v2" class="header-anchor">#</a> Convert an v1 address into v2</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Address<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@nuls.io/core'</span>

<span class="token keyword">const</span> v2Address <span class="token operator">=</span> Address<span class="token punctuation">.</span><span class="token function">fromStringV1</span><span class="token punctuation">(</span><span class="token string">'NsdvprVBQbZLRnXPKiZFBzUbgnnHqi3d'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v2Address<span class="token punctuation">)</span>
<span class="token comment">// NULSd6HgWaHQwRadfbxn2CFsGppG6ysyqML6m</span>
</code></pre></div><h2 id="block-api"><a href="#block-api" class="header-anchor">#</a> Block API</h2> <p>This class is util to fetch block related information from the blockchain.
All operations go by default through the <a href="https://nulscan.io/" target="_blank" rel="noopener noreferrer"><strong>public official NULS explorer API</strong><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. But it is up to you to configure your own NULS node host as API provider</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">BlockApi</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span>config<span class="token operator">?</span><span class="token punctuation">:</span> ApiServiceConfig<span class="token punctuation">)</span>

  <span class="token keyword">async</span> <span class="token function">getBlockHeaders</span><span class="token punctuation">(</span>packingAddress<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> pageNumber<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> pageSize<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>BlockHeaderListResponse<span class="token operator">&gt;</span>

  <span class="token keyword">async</span> <span class="token function">getBlock</span><span class="token punctuation">(</span>blockHeight<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>BlockResponse<span class="token operator">&gt;</span> 
<span class="token punctuation">}</span>
</code></pre></div><h4 id="fetch-block-info-by-height"><a href="#fetch-block-info-by-height" class="header-anchor">#</a> Fetch block info by height</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>BlockApi<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@nuls.io/core'</span>

<span class="token keyword">const</span> blockApi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BlockApi</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  url<span class="token punctuation">:</span> <span class="token string">'https://nulscan.io'</span><span class="token punctuation">,</span>
  chainId<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> block <span class="token operator">=</span> <span class="token keyword">await</span> blockApi<span class="token punctuation">.</span><span class="token function">getBlock</span><span class="token punctuation">(</span><span class="token number">295008</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>block<span class="token punctuation">)</span>
<span class="token comment">// {</span>
<span class="token comment">//   header: {</span>
<span class="token comment">//     hash: &quot;754d75ef82ddec265...&quot;,</span>
<span class="token comment">//     height: 295008,</span>
<span class="token comment">//     ...</span>
<span class="token comment">//   },</span>
<span class="token comment">//   txList: [</span>
<span class="token comment">//     {</span>
<span class="token comment">//       hash: &quot;5c57ca040ffe16...&quot;,</span>
<span class="token comment">//       type: 1,</span>
<span class="token comment">//       ...</span>
<span class="token comment">//     }</span>
<span class="token comment">//   ],</span>
<span class="token comment">//   blockHex: &quot;cf24ab70c307edd78...&quot;</span>
<span class="token comment">// }</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/CCC-NULS/nulsjs/edit/master/guide/core/README.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guide/" class="prev router-link-active">Getting Started</a></span> <span class="next"><a href="/guide/account/">Account</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d33a93c4.js" defer></script><script src="/assets/js/2.ad99787b.js" defer></script><script src="/assets/js/8.b511ce82.js" defer></script>
  </body>
</html>
